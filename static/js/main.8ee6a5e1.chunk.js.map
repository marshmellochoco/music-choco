{"version":3,"sources":["images/music-choco.png","layout/LoginLayout.js","store/user/userAction.js","api/userApi.js","pages/LoginPage.js","pages/SignUpPage.js","images/music-choco-dark.png","components/Navbar.js","components/ArtistList.js","components/AudioPlayer/AudioPlayerComponent.js","store/player/playerAction.js","components/AudioPlayer/AudioPlayer.js","components/Queue/QueueComponent.js","store/queue/queueAction.js","components/Queue/Queue.js","layout/AppLayout.js","components/Tracks/TrackSkeleton.js","components/Tracks/TrackHeader.js","api/useAxios.js","components/Modal.js","components/Tracks/TrackItem.js","pages/ErrorPage.js","pages/AlbumPage.js","components/AlbumCard.js","pages/ArtistPage.js","components/ArtistCard.js","pages/HomePage.js","images/defaultImg.png","pages/LibraryPage.js","pages/PlaylistPage.js","pages/NotFoundPage.js","pages/SearchPage.js","App.js","store/queue/queueReducer.js","store/player/playerReducer.js","store/user/userReducer.js","store/rootReducer.js","components/Alert.js","index.js"],"names":["LoginLayout","children","class","className","src","logo","alt","setToken","token","type","setUser","uid","displayName","apiUrl","process","key","userLogin","a","email","password","encrPassword","CryptoJS","AES","encrypt","toString","axios","post","credential","then","res","data","userSignUp","addPlaylist","playlist","addPlaylistTrack","track","put","removePlaylistTrack","delete","updatePlaylist","id","name","deletePlaylist","addArtistToLibrary","artist","removeArtistFromLibrary","addAlbumToLibrary","album","removeAlbumFromLibrary","addPlaylistToLibrary","removePlaylistFromLibrary","LoginPage","dispatch","useDispatch","history","useHistory","alert","useAlert","useState","setEmail","setPassword","loading","setLoading","onSubmit","e","preventDefault","response","push","catch","error","htmlFor","placeholder","onChange","target","value","onClick","info","disabled","to","SignUpPage","confirmPassword","setConfirmPassword","Navbar","resetToken","useSelector","state","userReducer","isDark","setIsDark","title","logoDark","path","mdiHome","mdiMusicBoxMultiple","mdiMagnify","onContextMenu","document","documentElement","classList","contains","remove","add","ArtistList","artists","map","AudioPlayerComponent","openQueue","setOpenQueue","lapsed","onPlay","onPause","onNextTrack","onPreviousTrack","onSeek","showPlayer","isLoading","isPlaying","onVolumeChange","playingTrack","onMuteToggle","volume","playerReducer","mute","setMute","openVolume","setOpenVolume","pageX","view","innerWidth","style","transform","draggable","onDragEnd","image","mdiSkipPrevious","mdiPauseCircleOutline","mdiPlayCircleOutline","mdiSkipNext","onMouseEnter","onMouseLeave","mdiVolumeOff","mdiVolumeHigh","defaultValue","mdiChevronDown","mdiChevronUp","setPlaying","playing","setPlayingTrack","AudioPlayer","ref","useRef","loop","queue","queueReducer","setLapsed","setIsLoading","tempVolume","setTempVolume","useLayoutEffect","current","play","err","pause","index","indexOf","length","currentTime","vol","setVolume","play_url","onLoadStart","onCanPlay","onTimeUpdate","duration","Math","ceil","progress","forwardRef","QueueComponent","queueData","onShuffle","onDragDrop","onSetTrack","onRemoveQueue","onToggleLoop","onCloseQueue","getQueueList","q","i","isPlayingTrack","draggableId","provided","snapshot","includes","onTrackClick","isDragging","innerRef","draggableProps","dragHandleProps","datakey","QueueItem","item","floor","mdiSync","mdiShuffle","mdiClose","droppableId","droppableProps","setQueue","addQueue","Queue","location","useEffect","splice","shuffled","sort","random","result","destination","source","s","trackData","newQueue","filter","_","setLoop","AppLayout","setLoggedIn","useLocation","getElementById","scrollTo","window","reload","TrackSkeleton","width","TrackHeader","useAxios","route","setData","setError","controller","AbortController","fetchData","method","url","signal","message","status","show","abort","Modal","header","open","onConfirm","onCancel","React","domReady","setDomReady","createPortal","onMouseDown","TrackItem","t","openModal","setOpenModal","setName","playlistData","addTrack","x","playTrack","addTrackToPlaylist","addTrackToNewPlaylist","autoFocus","onKeyDown","items","p","ErrorPage","AlbumPage","useParams","added","setAdded","imgLoading","setImgLoading","albumData","albumLoading","albumErr","trackLoading","trackErr","libraryAlbum","libraryAlbumLoading","libraryAlbumError","height","onLoad","count","forEach","albumInLibrary","track_number","AlbumCard","ArtistPage","artistData","artistLoading","artistError","albumError","tracksLoading","tracksError","libraryArtist","libraryArtistLoading","libraryArtistError","borderRadius","artistInLibrary","ArtistCard","loaded","setLoaded","HomePage","featuredArtist","newRelease","reverse","LibraryPage","playlistLoading","playlistError","total","onError","defaultImg","PlaylistPage","editModal","setEditModal","deleteModal","setDeleteModal","trackError","libraryPlaylist","libraryPlaylistLoading","libraryPlaylistError","editPlaylist","go","goBack","aspectRatio","owner","date","d","Date","currentMonth","getMonth","monthString","currentDate","getDate","getFullYear","formatDate","updatedAt","tracks","mdiPencil","mdiTrashCan","playlistInLibrary","removeTrackFromPlaylist","NotFoundPage","SearchPage","QueueHandler","this","requesting","stack","Promise","resolve","reject","makeQuery","search","query","mdiArrowLeft","focus","albums","App","basename","component","exact","initState","action","getVolume","localStorage","getItem","getLoop","_id","icon","NaN","setItem","getToken","defaults","headers","common","u","JSON","parse","getUser","removeItem","user","stringify","rootReducer","combineReducers","Alert","options","close","mdiInformationOutline","mdiCheckCircle","mdiCloseCircle","flex","store","createStore","ReactDOM","render","StrictMode","template","position","transition","timeout"],"mappings":"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","file":"static/js/main.8ee6a5e1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/music-choco.fddb79b0.png\";","import logo from \"../images/music-choco.png\";\r\n\r\nconst LoginLayout = ({ children }) => {\r\n    return (\r\n        <div class=\"dark:bg-backgroundDark min-h-screen\">\r\n            <div className=\"py-4 navbar-shadow dark:bg-backgroundDark\">\r\n                <img\r\n                    src={logo}\r\n                    alt={\"music-choco\"}\r\n                    className=\"mx-auto max-w-lg h-12\"\r\n                />\r\n            </div>\r\n            <div className=\"mx-auto mt-12 max-w-lg\">{children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginLayout;\r\n","export const setToken = (token) => {\r\n    return {\r\n        type: \"SET_TOKEN\",\r\n        token,\r\n    };\r\n};\r\n\r\nexport const setUser = (uid, displayName) => {\r\n    return {\r\n        type: \"SET_USER\",\r\n        uid,\r\n        displayName,\r\n    };\r\n};\r\n\r\nexport const logoutAction = () => {\r\n    return {\r\n        type: \"LOGOUT\",\r\n    };\r\n};\r\n","import axios from \"axios\";\r\nimport CryptoJS from \"crypto-js\";\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\nconst key = process.env.REACT_APP_PRIVATE_KEY;\r\n\r\n// #region Auth\r\nexport const userLogin = async ({ email, password }) => {\r\n    let encrPassword = CryptoJS.AES.encrypt(password, key).toString();\r\n    return await axios\r\n        .post(`${apiUrl}/login`, {\r\n            credential: { email, password: encrPassword },\r\n        })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const userSignUp = async ({ email, password }) => {\r\n    let encrPassword = CryptoJS.AES.encrypt(password, key).toString();\r\n    return await axios\r\n        .post(`${apiUrl}/register`, {\r\n            credential: { email, password: encrPassword },\r\n        })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n// #endregion\r\n\r\n// #region Playlist\r\nexport const addPlaylist = async (playlist) => {\r\n    return await axios.post(`${apiUrl}/playlists/`, playlist).then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n\r\nexport const addPlaylistTrack = async (playlist, track) => {\r\n    return await axios\r\n        .put(`${apiUrl}/playlists/${playlist}/tracks`, { track })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const removePlaylistTrack = async (playlist, track) => {\r\n    return await axios\r\n        .delete(`${apiUrl}/playlists/${playlist}/tracks`, { data: { track } })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const updatePlaylist = async (id, name) => {\r\n    return await axios\r\n        .put(`${apiUrl}/playlists/${id}`, { name })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const deletePlaylist = async (id) => {\r\n    return await axios.delete(`${apiUrl}/playlists/${id}`).then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n// #endregion\r\n\r\n//#region Library\r\nexport const addArtistToLibrary = async (artist) => {\r\n    return await axios\r\n        .put(`${apiUrl}/me/library/artists/`, { artist })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const removeArtistFromLibrary = async (artist) => {\r\n    return await axios\r\n        .delete(`${apiUrl}/me/library/artists/`, { data: { artist } })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const addAlbumToLibrary = async (album) => {\r\n    return await axios\r\n        .put(`${apiUrl}/me/library/albums/`, { album })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const removeAlbumFromLibrary = async (album) => {\r\n    return await axios\r\n        .delete(`${apiUrl}/me/library/albums/`, { data: { album } })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const addPlaylistToLibrary = async (playlist) => {\r\n    return await axios\r\n        .put(`${apiUrl}/me/library/playlists/`, { playlist })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n\r\nexport const removePlaylistFromLibrary = async (playlist) => {\r\n    return await axios\r\n        .delete(`${apiUrl}/me/library/playlists/`, { data: { playlist } })\r\n        .then((res) => {\r\n            return res.data;\r\n        });\r\n};\r\n//#endregion\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { setToken, setUser } from \"../store/user/userAction\";\r\nimport { userLogin } from \"../api/userApi\";\r\n\r\nconst LoginPage = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const alert = useAlert();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const login = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        userLogin({ email, password })\r\n            .then((response) => {\r\n                if (response.token) {\r\n                    setLoading(false);\r\n                    dispatch(setToken(response.token));\r\n                    dispatch(setUser(response.id, response.displayName));\r\n                    history.push(\"/\");\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"Invalid email or password\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"mx-2\">\r\n                <form className=\"inputGroup\" onSubmit={login}>\r\n                    <div className=\"input\">\r\n                        <label htmlFor=\"textEmail\">Email address</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"textEmail\"\r\n                            placeholder=\"Email address\"\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <label htmlFor=\"textPassword\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"textPassword\"\r\n                            placeholder=\"Password\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex flex-row justify-between\">\r\n                        <div>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id=\"checkRemember\"\r\n                                className=\"mr-1\"\r\n                            />\r\n                            <label htmlFor=\"checkRemember\">Remember me</label>\r\n                        </div>\r\n                        <div\r\n                            className=\"link-text cursor-pointer\"\r\n                            onClick={() =>\r\n                                alert.info(\"Oops! Not yet implemented.\")\r\n                            }\r\n                        >\r\n                            Forgot your password?\r\n                        </div>\r\n                    </div>\r\n                    <input\r\n                        type=\"submit\"\r\n                        value={\"Login\"}\r\n                        className={`h-10 btn btn-primary w-full ${\r\n                            loading && \"opacity-40\"\r\n                        }`}\r\n                        disabled={loading}\r\n                    />\r\n                </form>\r\n                <hr className=\"my-8\" />\r\n                <div className=\"flex flex-col text-center gap-4\">\r\n                    <span>Don't have an account?</span>\r\n                    <Link\r\n                        to={\"/signUp\"}\r\n                        className=\"btn border-2 border-secondary-200 dark:border-secondaryDark-200\"\r\n                    >\r\n                        Sign up now\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default LoginPage;\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { userSignUp } from \"../api/userApi\";\r\nimport { setToken, setUser } from \"../store/user/userAction\";\r\n\r\nconst SignUpPage = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const alert = useAlert();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const signUp = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        if (password !== confirmPassword) {\r\n            alert.error(\"The password confirmation does not match\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        userSignUp({ email, password })\r\n            .then((response) => {\r\n                setLoading(false);\r\n                if (response.token) {\r\n                    dispatch(setToken(response.token));\r\n                    dispatch(setUser(response.id, response.displayName));\r\n                    history.push(\"/\");\r\n                } else {\r\n                    alert.error(\"Something went wrong\");\r\n                }\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"User already exist\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"mx-2\">\r\n                <form className=\"inputGroup\">\r\n                    <div className=\"input\">\r\n                        <label htmlFor=\"textEmail\">Email address</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"textEmail\"\r\n                            placeholder=\"Email address\"\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <label htmlFor=\"textPassword\">Password</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"textPassword\"\r\n                            placeholder=\"Password\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"input\">\r\n                        <label htmlFor=\"textConfirmPassword\">\r\n                            Confirm Password\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"textConfirmPassword\"\r\n                            placeholder=\"Confirm Password\"\r\n                            onChange={(e) => setConfirmPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        className={`bg-primary-100 dark:bg-primaryDark-100 h-10 btn w-full ${\r\n                            loading && \"opacity-40\"\r\n                        }`}\r\n                        disabled={loading}\r\n                        onClick={signUp}\r\n                    >\r\n                        Sign Up\r\n                    </button>\r\n                    <div className=\"text-center\">\r\n                        <span>Have an account? </span>\r\n                        <Link to=\"/login\" className=\"link-text\">\r\n                            Log in\r\n                        </Link>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SignUpPage;\r\n","export default __webpack_public_path__ + \"static/media/music-choco-dark.8a628ee5.png\";","import { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport Icon from '@mdi/react';\r\nimport { mdiHome, mdiMagnify, mdiMusicBoxMultiple } from '@mdi/js';\r\nimport logo from '../images/music-choco.png';\r\nimport logoDark from '../images/music-choco-dark.png';\r\nimport { useState } from 'react';\r\n\r\nconst Navbar = ({ resetToken }) => {\r\n    const { displayName } = useSelector((state) => state.userReducer);\r\n    const [isDark, setIsDark] = useState(false);\r\n\r\n    const toggleTheme = () => {\r\n        if (!document.documentElement.classList.contains('dark')) {\r\n            setIsDark(true);\r\n            document.documentElement.classList.add('dark');\r\n        } else {\r\n            setIsDark(false);\r\n            document.documentElement.classList.remove('dark');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className='navbar-placeholder'></div>\r\n            <div className='navbar navbar-shadow'>\r\n                <Link to='/' className='nav-logo w-min' title='music-choco'>\r\n                    <img src={!isDark ? logo : logoDark} alt='music-chcoo' />\r\n                </Link>\r\n\r\n                <div className='nav-items'>\r\n                    <Link to='/' className='nav-item'>\r\n                        <Icon\r\n                            path={mdiHome}\r\n                            className='sm:hidden'\r\n                            title='Home'\r\n                        />\r\n                        <span className='hidden sm:block'>Home</span>\r\n                    </Link>\r\n                    <Link to='/library' className='nav-item'>\r\n                        <Icon\r\n                            path={mdiMusicBoxMultiple}\r\n                            className='sm:hidden'\r\n                            title='Library'\r\n                        />\r\n                        <span className='hidden sm:block'>Library</span>\r\n                    </Link>\r\n                    <Link to='/search' className='nav-item'>\r\n                        <Icon\r\n                            path={mdiMagnify}\r\n                            className='sm:hidden'\r\n                            title='Search'\r\n                        />\r\n                        <span className='hidden sm:block'>Search</span>\r\n                    </Link>\r\n                </div>\r\n                <div\r\n                    className='nav-user'\r\n                    onClick={resetToken}\r\n                    onContextMenu={toggleTheme}\r\n                >\r\n                    {displayName}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n// TODO: user dropdown\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst ArtistList = ({ artists }) => {\r\n    return (\r\n        <div className=\"artist-list\">\r\n            {artists &&\r\n                artists.map((artist) => (\r\n                    <Link\r\n                        to={`/artist/${artist.id}`}\r\n                        key={`player_track_${artist.id}`}\r\n                        className=\"artist-link\"\r\n                        title={artist.name}\r\n                    >\r\n                        {artist.name}\r\n                    </Link>\r\n                ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ArtistList;\r\n","import { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n    mdiPauseCircleOutline,\r\n    mdiPlayCircleOutline,\r\n    mdiSkipNext,\r\n    mdiSkipPrevious,\r\n    mdiChevronDown,\r\n    mdiChevronUp,\r\n    mdiVolumeHigh,\r\n    mdiVolumeOff,\r\n} from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport ArtistList from \"../ArtistList\";\r\n\r\nconst AudioPlayerComponent = ({\r\n    openQueue,\r\n    setOpenQueue,\r\n    lapsed,\r\n    onPlay,\r\n    onPause,\r\n    onNextTrack,\r\n    onPreviousTrack,\r\n    onSeek,\r\n    showPlayer,\r\n    isLoading,\r\n    isPlaying,\r\n    onVolumeChange,\r\n    playingTrack,\r\n    onMuteToggle,\r\n}) => {\r\n    const { volume } = useSelector((state) => state.playerReducer);\r\n    // TODO: Mute\r\n    const [mute, setMute] = useState(false);\r\n    const [openVolume, setOpenVolume] = useState(false);\r\n\r\n    const onMute = () => {\r\n        onMuteToggle(!mute);\r\n        setMute(!mute);\r\n    };\r\n\r\n    return (\r\n        showPlayer && (\r\n            <>\r\n                <div className=\"audio-player-placeholder\"></div>\r\n                <div>\r\n                    <div\r\n                        className=\"player-progress\"\r\n                        onClick={(e) => onSeek(e.pageX / e.view.innerWidth)}\r\n                    >\r\n                        <div\r\n                            className=\"progress-track\"\r\n                            style={{\r\n                                transform: `translateX(${lapsed - 100}%)`,\r\n                            }}\r\n                        >\r\n                            <div\r\n                                className=\"progress-thumb\"\r\n                                draggable\r\n                                onDragEnd={(e) =>\r\n                                    onSeek(e.pageX / e.view.innerWidth)\r\n                                }\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"audio-player\">\r\n                        <div className=\"player-track\">\r\n                            <div className=\"track-image\">\r\n                                {isLoading && (\r\n                                    <div className=\"image-loader\">\r\n                                        <div className=\"loader-wrapper\">\r\n                                            <div className=\"loader\" />\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                                <Link\r\n                                    to={`/album/${playingTrack.album.id}`}\r\n                                    className=\"track-image\"\r\n                                    title={playingTrack.album.name}\r\n                                >\r\n                                    <img\r\n                                        src={playingTrack.album.image}\r\n                                        alt={playingTrack.album.name}\r\n                                    />\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"track-detail\">\r\n                                <Link\r\n                                    to={`/album/${playingTrack.album.id}`}\r\n                                    className=\"track-name\"\r\n                                    title={playingTrack.name}\r\n                                >\r\n                                    <b>{playingTrack.name}</b>\r\n                                </Link>\r\n                                <ArtistList artists={playingTrack.artists} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"player-control\">\r\n                            <div onClick={onPreviousTrack}>\r\n                                <Icon\r\n                                    path={mdiSkipPrevious}\r\n                                    title=\"Previous\"\r\n                                    className=\"icon-small\"\r\n                                />\r\n                            </div>\r\n                            {isPlaying ? (\r\n                                <div onClick={onPause}>\r\n                                    <Icon\r\n                                        path={mdiPauseCircleOutline}\r\n                                        title=\"Pause\"\r\n                                        className=\"icon-medium\"\r\n                                    />\r\n                                </div>\r\n                            ) : (\r\n                                <div onClick={onPlay}>\r\n                                    <Icon\r\n                                        path={mdiPlayCircleOutline}\r\n                                        title=\"Play\"\r\n                                        className=\"icon-medium\"\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                            <div onClick={onNextTrack}>\r\n                                <Icon\r\n                                    path={mdiSkipNext}\r\n                                    title=\"Next\"\r\n                                    className=\"icon-small\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"player-sub\">\r\n                            <div\r\n                                className=\"volume-container\"\r\n                                onMouseEnter={() => setOpenVolume(true)}\r\n                                onMouseLeave={() => setOpenVolume(false)}\r\n                            >\r\n                                <div className=\"btn-icon\" onClick={onMute}>\r\n                                    {mute ? (\r\n                                        <Icon\r\n                                            className=\"icon-small\"\r\n                                            path={mdiVolumeOff}\r\n                                            title=\"Volume\"\r\n                                        />\r\n                                    ) : (\r\n                                        <Icon\r\n                                            className=\"icon-small\"\r\n                                            path={mdiVolumeHigh}\r\n                                            title=\"Volume\"\r\n                                        />\r\n                                    )}\r\n                                </div>\r\n                                {openVolume && (\r\n                                    <input\r\n                                        type=\"range\"\r\n                                        defaultValue={volume * 100}\r\n                                        onChange={(e) =>\r\n                                            onVolumeChange(e.target.value / 100)\r\n                                        }\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                            <div className=\"open-queue\">\r\n                                {openQueue ? (\r\n                                    <div\r\n                                        className=\"btn-icon\"\r\n                                        onClick={() => setOpenQueue(false)}\r\n                                    >\r\n                                        <Icon\r\n                                            path={mdiChevronDown}\r\n                                            title=\"Hide queue\"\r\n                                            className=\"icon-small\"\r\n                                        />\r\n                                    </div>\r\n                                ) : (\r\n                                    <div\r\n                                        className=\"btn-icon\"\r\n                                        onClick={() => setOpenQueue(true)}\r\n                                    >\r\n                                        <Icon\r\n                                            path={mdiChevronUp}\r\n                                            title=\"Show queue\"\r\n                                            className=\"icon-small\"\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    );\r\n};\r\n\r\nexport default AudioPlayerComponent;\r\n","export const setPlaying = (playing) => {\r\n    return {\r\n        type: \"SET_PLAYING\",\r\n        playing,\r\n    };\r\n};\r\n\r\nexport const setLoop = (loop) => {\r\n    return {\r\n        type: \"SET_LOOP\",\r\n        loop,\r\n    };\r\n};\r\n\r\nexport const setPlayingTrack = (track) => {\r\n    return {\r\n        type: \"SET_PLAYING_SONG\",\r\n        track,\r\n    };\r\n};\r\n\r\nexport const setVolume = (volume) => {\r\n    return {\r\n        type: \"SET_VOLUME\",\r\n        volume,\r\n    };\r\n};","import { useState, useRef, useLayoutEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport AudioPlayerComponent from \"./AudioPlayerComponent\";\r\nimport {\r\n    setPlaying,\r\n    setPlayingTrack,\r\n    setVolume,\r\n} from \"../../store/player/playerAction\";\r\n\r\nconst AudioPlayer = ({ openQueue, setOpenQueue, showPlayer }) => {\r\n    const ref = useRef();\r\n    const dispatch = useDispatch();\r\n    const {\r\n        playingTrack,\r\n        playing: isPlaying,\r\n        loop,\r\n        volume,\r\n    } = useSelector((state) => state.playerReducer);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n    const [lapsed, setLapsed] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [tempVolume, setTempVolume] = useState(0.5);\r\n\r\n    useLayoutEffect(() => {\r\n        if (!ref) return;\r\n        ref.current.volume = volume;\r\n        // eslint-disable-next-line\r\n    }, [volume]);\r\n\r\n    useLayoutEffect(() => {\r\n        if (!ref) return;\r\n        if (isPlaying) onPlay();\r\n        else onPause();\r\n        // eslint-disable-next-line\r\n    }, [isPlaying]);\r\n\r\n    const onPlay = () => {\r\n        if (!ref) return;\r\n        let playPromise = ref.current.play();\r\n        playPromise.catch((err) => {});\r\n        dispatch(setPlaying(true));\r\n    };\r\n\r\n    const onPause = () => {\r\n        if (!ref) return;\r\n        ref.current.pause();\r\n        dispatch(setPlaying(false));\r\n    };\r\n\r\n    const onPreviousTrack = () => {\r\n        if (!ref) return;\r\n        const index = queue.indexOf(playingTrack) - 1;\r\n        if (index >= 0) {\r\n            dispatch(setPlayingTrack(queue[index]));\r\n            dispatch(setPlaying(true));\r\n        } else {\r\n            ref.current.currentTime = 0;\r\n            setLapsed(0);\r\n        }\r\n    };\r\n\r\n    const onNextTrack = () => {\r\n        if (!ref) return;\r\n        const index = queue.indexOf(playingTrack);\r\n        if (index >= queue.length - 1) {\r\n            if (loop) {\r\n                dispatch(setPlayingTrack(queue[0]));\r\n                onPlay();\r\n            } else {\r\n                onPause();\r\n                ref.current.currentTime = 0;\r\n                setLapsed(0);\r\n            }\r\n        } else {\r\n            dispatch(setPlayingTrack(queue[index + 1]));\r\n            onPlay();\r\n        }\r\n    };\r\n\r\n    const onSeek = (progress) => {\r\n        if (!ref) return;\r\n        ref.current.currentTime =\r\n            (Math.ceil(ref.current.duration) - 1) * progress;\r\n    };\r\n\r\n    const onTimeUpdate = (e) => {\r\n        let duration = Math.ceil(ref.current.duration) - 1;\r\n        if (duration - ref.current.currentTime <= 0.1) onNextTrack();\r\n        let progress = (ref.current.currentTime / duration) * 100;\r\n        setLapsed(progress);\r\n    };\r\n\r\n    const onCanPlay = () => {\r\n        setIsLoading(false);\r\n        if (isPlaying) onPlay();\r\n        else onPause();\r\n    };\r\n\r\n    const onVolumeChange = (vol) => {\r\n        dispatch(setVolume(vol));\r\n    };\r\n\r\n    const onMuteToggle = (mute) => {\r\n        if (mute) {\r\n            setTempVolume(volume);\r\n            onVolumeChange(0);\r\n        } else {\r\n            onVolumeChange(tempVolume);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <audio\r\n                src={playingTrack ? playingTrack.play_url : \"\"}\r\n                ref={ref}\r\n                onLoadStart={() => setIsLoading(true)}\r\n                onCanPlay={onCanPlay}\r\n                onTimeUpdate={onTimeUpdate}\r\n            />\r\n            <AudioPlayerComponent\r\n                openQueue={openQueue}\r\n                setOpenQueue={setOpenQueue}\r\n                lapsed={lapsed}\r\n                forwardRef={ref}\r\n                onPlay={onPlay}\r\n                onPause={onPause}\r\n                onPreviousTrack={onPreviousTrack}\r\n                onNextTrack={onNextTrack}\r\n                onSeek={onSeek}\r\n                showPlayer={showPlayer}\r\n                isLoading={isLoading}\r\n                isPlaying={isPlaying}\r\n                onVolumeChange={onVolumeChange}\r\n                playingTrack={playingTrack}\r\n                onMuteToggle={onMuteToggle}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AudioPlayer;\r\n","import Icon from \"@mdi/react\";\r\nimport { mdiClose, mdiShuffle, mdiSync } from \"@mdi/js\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport { ContextMenu, ContextMenuTrigger, MenuItem } from \"react-contextmenu\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ArtistList from \"../ArtistList\";\r\n\r\nconst QueueComponent = ({\r\n    loop,\r\n    queueData,\r\n    playingTrack,\r\n    onShuffle,\r\n    onDragDrop,\r\n    onSetTrack,\r\n    onRemoveQueue,\r\n    onToggleLoop,\r\n    onCloseQueue,\r\n}) => {\r\n    const getDuration = (duration) => {\r\n        return (\r\n            (duration / 60 < 10 ? \"0\" : \"\") +\r\n            Math.floor(duration / 60) +\r\n            \":\" +\r\n            (duration % 60 < 10 ? \"0\" : \"\") +\r\n            Math.floor(duration % 60)\r\n        );\r\n    };\r\n\r\n    const getQueueList = (queue, playingTrack) => {\r\n        const onTrackClick = (e, q) => {\r\n            if (!e.target.className.includes(\"link-item\")) onSetTrack(q);\r\n        };\r\n\r\n        return queue.map((q, i) => {\r\n            const isPlayingTrack = playingTrack.id === q.id;\r\n            return (\r\n                <div key={`queue_${q.id}`}>\r\n                    <ContextMenuTrigger id={`queueListContextMenu_${q.id}`}>\r\n                        <Draggable draggableId={q.id} index={i}>\r\n                            {(provided, snapshot) => (\r\n                                <div\r\n                                    onClick={(e) => onTrackClick(e, q)}\r\n                                    id={q.id}\r\n                                    className={\r\n                                        isPlayingTrack\r\n                                            ? \"queue-item-active\"\r\n                                            : snapshot.isDragging\r\n                                            ? \"queue-item-dragging\"\r\n                                            : \"\"\r\n                                    }\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}\r\n                                    datakey={q.id}\r\n                                >\r\n                                    <QueueItem item={q} />\r\n                                </div>\r\n                            )}\r\n                        </Draggable>\r\n                    </ContextMenuTrigger>\r\n                    <ContextMenu\r\n                        key={q.id + \"test\"}\r\n                        id={`queueListContextMenu_${q.id}`}\r\n                    >\r\n                        <MenuItem onClick={() => onRemoveQueue(q)}>\r\n                            Remove from queue\r\n                        </MenuItem>\r\n                    </ContextMenu>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    const QueueItem = ({ item }) => {\r\n        return (\r\n            <li className=\"queue-item\">\r\n                <div className=\"item-title\">\r\n                    <b>{item.name}</b>\r\n                    <ArtistList artists={item.artists} />\r\n                </div>\r\n                <div className=\"item-album\">\r\n                    <Link\r\n                        to={`/album/${item.album.id}`}\r\n                        className=\"link-item\"\r\n                        title={item.album.name}\r\n                    >\r\n                        {item.album.name}\r\n                    </Link>\r\n                </div>\r\n                <div className=\"text-right\">{getDuration(item.duration)}</div>\r\n            </li>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"queue-container\">\r\n            <div className=\"queue-header\">\r\n                <h1 className=\"title\">Up Next</h1>\r\n                <div className=\"queue-header-buttons\">\r\n                    <div className=\"queue-util\">\r\n                        <div\r\n                            className={`btn-icon ${loop ? \"active\" : \"\"}`}\r\n                            onClick={onToggleLoop}\r\n                        >\r\n                            <Icon path={mdiSync} title=\"Loop\" />\r\n                        </div>\r\n                        <div className=\"btn-icon\" onClick={onShuffle}>\r\n                            <Icon path={mdiShuffle} title=\"Shuffle\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"queue-btn-close\">\r\n                        <Icon\r\n                            className=\"btn-icon\"\r\n                            path={mdiClose}\r\n                            title=\"Hide queue\"\r\n                            onClick={onCloseQueue}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <DragDropContext onDragEnd={onDragDrop}>\r\n                <Droppable droppableId=\"droppable\">\r\n                    {(provided) => (\r\n                        <ul\r\n                            {...provided.droppableProps}\r\n                            ref={provided.innerRef}\r\n                        >\r\n                            {getQueueList(queueData, playingTrack)}\r\n                            {provided.placeholder}\r\n                        </ul>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QueueComponent;\r\n","export const setQueue = (queue) => {\r\n    return {\r\n        type: \"SET_QUEUE\",\r\n        queue,\r\n    };\r\n};\r\n\r\nexport const addQueue = (item) => {\r\n    return {\r\n        type: \"ADD_QUEUE\",\r\n        item,\r\n    };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport QueueComponent from \"./QueueComponent\";\r\nimport { setQueue } from \"../../store/queue/queueAction\";\r\nimport {\r\n    setPlaying,\r\n    setLoop,\r\n    setPlayingTrack,\r\n} from \"../../store/player/playerAction\";\r\n\r\nconst Queue = ({ openQueue, setOpenQueue, location }) => {\r\n    const dispatch = useDispatch();\r\n    const queueData = useSelector((state) => state.queueReducer);\r\n    const { playingTrack, loop } = useSelector((state) => state.playerReducer);\r\n\r\n    useEffect(() => {\r\n        setOpenQueue(false);\r\n        // eslint-disable-next-line\r\n    }, [location]);\r\n\r\n    const onCloseQueue = () => {\r\n        setOpenQueue(false);\r\n    };\r\n\r\n    const onShuffle = () => {\r\n        let q = [...queueData];\r\n        q.splice(q.indexOf(playingTrack), 1);\r\n        let shuffled = [...q].sort(() => Math.random() - 0.5);\r\n        dispatch(setQueue([playingTrack, ...shuffled]));\r\n    };\r\n\r\n    const onDragDrop = (result) => {\r\n        if (!result.destination) return;\r\n\r\n        const q = [...queueData];\r\n        const [s] = q.splice(result.source.index, 1);\r\n        q.splice(result.destination.index, 0, s);\r\n        dispatch(setQueue(q));\r\n    };\r\n\r\n    const onSetTrack = (trackData) => {\r\n        dispatch(setPlayingTrack(trackData));\r\n        dispatch(setPlaying(true));\r\n    };\r\n\r\n    const onRemoveQueue = (q) => {\r\n        let index = queueData.indexOf(q);\r\n        if (\r\n            index === queueData.indexOf(playingTrack) &&\r\n            queueData.length !== 0\r\n        ) {\r\n            if (index === queueData.length - 1)\r\n                dispatch(setPlayingTrack(queueData[index - 1]));\r\n            else dispatch(setPlayingTrack(queueData[index + 1]));\r\n        }\r\n        let newQueue = queueData.filter((_, i) => i !== index);\r\n        dispatch(setQueue(newQueue));\r\n    };\r\n\r\n    const onToggleLoop = () => {\r\n        dispatch(setLoop(!loop));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {openQueue && (\r\n                <QueueComponent\r\n                    loop={loop}\r\n                    queueData={queueData}\r\n                    playingTrack={playingTrack}\r\n                    onShuffle={onShuffle}\r\n                    onDragDrop={onDragDrop}\r\n                    onSetTrack={onSetTrack}\r\n                    onRemoveQueue={onRemoveQueue}\r\n                    onToggleLoop={onToggleLoop}\r\n                    onCloseQueue={onCloseQueue}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Queue;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nimport { logoutAction } from \"../store/user/userAction\";\r\n\r\nimport Navbar from \"../components/Navbar\";\r\nimport AudioPlayer from \"../components/AudioPlayer/AudioPlayer\";\r\nimport Queue from \"../components/Queue/Queue\";\r\n\r\nconst AppLayout = ({ children, setLoggedIn }) => {\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n\r\n    const [openQueue, setOpenQueue] = useState(false);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n\r\n    useEffect(() => {\r\n        if (queue.length === 0) setOpenQueue(false);\r\n    }, [queue]);\r\n\r\n    useEffect(() => {\r\n        document.getElementById(\"window\").scrollTo(0, 0);\r\n    }, [location]);\r\n\r\n    const onContextMenu = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const logout = () => {\r\n        setLoggedIn(false);\r\n        dispatch(logoutAction());\r\n        window.location.reload();\r\n    };\r\n\r\n    return (\r\n        <div\r\n            onContextMenu={onContextMenu}\r\n            className=\"min-h-screen bg-background dark:bg-backgroundDark\"\r\n        >\r\n            <div id=\"modal\"></div>\r\n            <Navbar resetToken={logout} />\r\n            <div id=\"window\" className=\"w-full overflow-y-auto\">\r\n                <div className={openQueue ? \"hidden\" : \"block\"}>{children}</div>\r\n                <Queue\r\n                    openQueue={openQueue}\r\n                    setOpenQueue={setOpenQueue}\r\n                    location={location}\r\n                />\r\n            </div>\r\n            <AudioPlayer\r\n                openQueue={openQueue}\r\n                setOpenQueue={setOpenQueue}\r\n                showPlayer={queue.length !== 0}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AppLayout;\r\n","import Skeleton from \"react-loading-skeleton\";\r\n\r\nconst TrackSkeleton = ({ id }) => {\r\n    return (\r\n        <div key={`track_skeleton_${id}`}>\r\n            <div className=\"track-item\">\r\n                <Skeleton className=\"ml-4\" width={\"1rem\"} />\r\n                <div className=\"items gap-4\">\r\n                    <div>\r\n                        <Skeleton />\r\n                        <div className=\"artist-list h-6\">\r\n                            <Skeleton className=\"link-item\" />\r\n                        </div>\r\n                    </div>\r\n                    <Skeleton />\r\n                    <Skeleton className=\"text-left\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TrackSkeleton;\r\n","const TrackHeader = ({ album = false }) => {\r\n    return (\r\n        <>\r\n            <div className=\"track-header\">\r\n                <div className=\"number\">#</div>\r\n                <div className=\"items\">\r\n                    <h3 className={album ? \"col-span-2\" : \"col-span-3\"}>\r\n                        Track\r\n                    </h3>\r\n                    <span>{album ? \"Album\" : \"\"}</span>\r\n                </div>\r\n                <span className=\"text-right w-20 pr-8\">Duration</span>\r\n            </div>\r\n            <hr className=\"border-b border-primary-100 dark:border-primaryDark-100 mx-2\" />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TrackHeader;\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { logoutAction } from \"../store/user/userAction\";\r\n\r\nconst useAxios = (route) => {\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n    const [data, setData] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const controller = new AbortController();\r\n\r\n    const fetchData = () => {\r\n        axios({\r\n            method: \"get\",\r\n            url: `${process.env.REACT_APP_API_URL}${route}`,\r\n            signal: controller.signal,\r\n        })\r\n            .then((res) => {\r\n                setData(res.data);\r\n                setIsLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                if (err.message !== \"canceled\") {\r\n                    if (err.response.status === 401) {\r\n                        dispatch(logoutAction());\r\n                        alert.show(\"Token expired. Please login again.\");\r\n                        return () => controller.abort();\r\n                    }\r\n                    setError(err);\r\n                    setIsLoading(false);\r\n                }\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n        return () => controller.abort();\r\n        // eslint-disable-next-line\r\n    }, [route]);\r\n\r\n    return { data, isLoading, error, fetchData };\r\n};\r\n\r\nexport default useAxios;\r\n","import React from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst Modal = ({ header, children, open, onConfirm, onCancel = null }) => {\r\n    const [domReady, setDomReady] = React.useState(false);\r\n    React.useEffect(() => {\r\n        setDomReady(true);\r\n    }, []);\r\n\r\n    const closeModal = (e) => {\r\n        if (e.target.className === \"modal-container\") onCancel();\r\n    };\r\n\r\n    return open && domReady\r\n        ? createPortal(\r\n              <div className=\"modal-container\" onMouseDown={closeModal}>\r\n                  <div>\r\n                      <h2 className=\"title2\">{header}</h2>\r\n                      <div>\r\n                          <div className=\"mb-4\">{children}</div>\r\n                          <div className=\"flex gap-2\">\r\n                              {onCancel && (\r\n                                  <button\r\n                                      className=\"w-full\"\r\n                                      onClick={onCancel}\r\n                                  >\r\n                                      Cancel\r\n                                  </button>\r\n                              )}\r\n                              <button\r\n                                  className=\"btn-primary w-full\"\r\n                                  onClick={onConfirm}\r\n                              >\r\n                                  Confirm\r\n                              </button>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n              </div>,\r\n              document.getElementById(\"modal\")\r\n          )\r\n        : null;\r\n};\r\n\r\nexport default Modal;\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n    ContextMenu,\r\n    ContextMenuTrigger,\r\n    MenuItem,\r\n    SubMenu,\r\n} from \"react-contextmenu\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { setPlaying, setPlayingTrack } from \"../../store/player/playerAction\";\r\nimport { addQueue } from \"../../store/queue/queueAction\";\r\nimport useAxios from \"../../api/useAxios\";\r\nimport { addPlaylist, addPlaylistTrack } from \"../../api/userApi\";\r\nimport Modal from \"../Modal\";\r\nimport ArtistList from \"../ArtistList\";\r\n\r\nconst TrackItem = ({ t, children, i, album = false }) => {\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [name, setName] = useState(\"\");\r\n    const { playingTrack } = useSelector((state) => state.playerReducer);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n    const {\r\n        data: playlistData,\r\n        isLoading,\r\n        fetchData,\r\n    } = useAxios(`/me/library/playlists`);\r\n\r\n    const addTrack = (track) => {\r\n        if (queue.length === 0) {\r\n            dispatch(setPlayingTrack(track));\r\n            dispatch(setPlaying(false));\r\n        }\r\n        if (queue.filter((x) => x.id === track.id).length === 0)\r\n            dispatch(addQueue(track));\r\n    };\r\n\r\n    const playTrack = (track) => {\r\n        addTrack(track);\r\n        if (playingTrack && track.id !== playingTrack.id)\r\n            dispatch(setPlayingTrack(track));\r\n        dispatch(setPlaying(true));\r\n    };\r\n\r\n    const addTrackToPlaylist = (playlist) => {\r\n        addPlaylistTrack(playlist, t.id).then(() =>\r\n            alert.show(\"Added to playlist\")\r\n        );\r\n    };\r\n\r\n    const addTrackToNewPlaylist = () => {\r\n        addPlaylist({ name }).then((playlist) => {\r\n            fetchData();\r\n            alert.show(\"Playlist created\");\r\n            addTrackToPlaylist(playlist.id);\r\n            setOpenModal(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div key={`track_item_${t.id}`}>\r\n            <Modal\r\n                header={\"New Playlist\"}\r\n                open={openModal}\r\n                onConfirm={addTrackToNewPlaylist}\r\n                onCancel={() => setOpenModal(false)}\r\n            >\r\n                <div className=\"flex flex-col gap-1\">\r\n                    <label htmlFor=\"textInput\">\r\n                        <b>Name</b>\r\n                    </label>\r\n                    <input\r\n                        id=\"textInput\"\r\n                        type=\"text\"\r\n                        placeholder=\"Playlist name\"\r\n                        autoFocus={true}\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === \"Enter\") addTrackToNewPlaylist();\r\n                            else if (e.key === \"Escape\") setOpenModal(false);\r\n                        }}\r\n                        className=\"border-b border-primary-200 dark:border-primaryDark-200 px-2 py-1\"\r\n                    />\r\n                </div>\r\n            </Modal>\r\n            <ContextMenuTrigger id={`songListContextMenu_${t.id}`}>\r\n                <div\r\n                    onClick={(e) => {\r\n                        if (!e.target.className.includes(\"link-item\"))\r\n                            playTrack(t);\r\n                    }}\r\n                >\r\n                    <div\r\n                        className={`track-item cursor-pointer ${\r\n                            playingTrack && playingTrack.id === t.id\r\n                                ? \"bg-primary-100 hover:bg-primary-200 dark:bg-primaryDark-100 dark:hover:bg-primaryDark-200\"\r\n                                : \"\"\r\n                        }`}\r\n                    >\r\n                        <div className=\"number\">{i}</div>\r\n                        <div className=\"items\">\r\n                            <div\r\n                                className={album ? \"col-span-2\" : \"col-span-3\"}\r\n                            >\r\n                                <h3 className=\"font-bold\">{t.name}</h3>\r\n                                <ArtistList artists={t.artists} />\r\n                            </div>\r\n                            {album ? (\r\n                                <Link\r\n                                    to={`/album/${t.album.id}`}\r\n                                    className=\"link-item\"\r\n                                    title={t.album.name}\r\n                                >\r\n                                    {t.album.name}\r\n                                </Link>\r\n                            ) : (\r\n                                <span />\r\n                            )}\r\n                        </div>\r\n                        <span className=\"text-right w-20 pr-4\">\r\n                            {(t.duration / 60 < 10 ? \"0\" : \"\") +\r\n                                Math.floor(t.duration / 60)}\r\n                            :\r\n                            {(t.duration % 60 < 10 ? \"0\" : \"\") +\r\n                                Math.floor(t.duration % 60)}\r\n                        </span>\r\n                        <hr />\r\n                    </div>\r\n                </div>\r\n            </ContextMenuTrigger>\r\n            <ContextMenu id={`songListContextMenu_${t.id}`}>\r\n                <MenuItem onClick={() => playTrack(t)}>Play</MenuItem>\r\n                <MenuItem onClick={() => addTrack(t)}>Add to queue</MenuItem>\r\n                <SubMenu title=\"Add to playlist\">\r\n                    <MenuItem onClick={() => setOpenModal(true)}>\r\n                        Add to new playlist\r\n                    </MenuItem>\r\n                    <hr className=\"border-t border-primary-300 dark:border-primaryDark-300 mx-2\" />\r\n                    {!isLoading &&\r\n                        playlistData.items.map((p) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    key={`track_item_ctx_${p.id}`}\r\n                                    onClick={() => addTrackToPlaylist(p.id)}\r\n                                >\r\n                                    {p.name}\r\n                                </MenuItem>\r\n                            );\r\n                        })}\r\n                </SubMenu>\r\n                <hr className=\"border-t border-background dark:border-backgroundDark mx-2\" />\r\n                {children}\r\n            </ContextMenu>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TrackItem;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst ErrorPage = () => {\r\n    return (\r\n        <div className=\"w-screen h-screen flex flex-col items-center justify-center gap-4 text-center\">\r\n            <h2 className=\"text-4xl font-bold my-2\">Oops!</h2>\r\n            <p>Something went wrong while loding the page.</p>\r\n            <Link to=\"/\" className=\"btn-primary btn\">\r\n                Back to homepage\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ErrorPage;\r\n","import { useState } from \"react\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport TrackSkeleton from \"../components/Tracks/TrackSkeleton\";\r\nimport TrackHeader from \"../components/Tracks/TrackHeader\";\r\nimport TrackItem from \"../components/Tracks/TrackItem\";\r\nimport { setPlaying, setPlayingTrack } from \"../store/player/playerAction\";\r\nimport { addQueue } from \"../store/queue/queueAction\";\r\nimport useAxios from \"../api/useAxios\";\r\nimport { addAlbumToLibrary, removeAlbumFromLibrary } from \"../api/userApi\";\r\nimport ErrorPage from \"./ErrorPage\";\r\nimport ArtistList from \"../components/ArtistList\";\r\n\r\nconst AlbumPage = () => {\r\n    const { id } = useParams();\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n    const [added, setAdded] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [imgLoading, setImgLoading] = useState(false);\r\n    const { playingTrack } = useSelector((state) => state.playerReducer);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n    const {\r\n        data: albumData,\r\n        isLoading: albumLoading,\r\n        error: albumErr,\r\n    } = useAxios(`/albums/${id}/`);\r\n    const {\r\n        data: trackData,\r\n        isLoading: trackLoading,\r\n        error: trackErr,\r\n    } = useAxios(`/albums/${id}/tracks`);\r\n    const {\r\n        data: libraryAlbum,\r\n        isLoading: libraryAlbumLoading,\r\n        error: libraryAlbumError,\r\n    } = useAxios(`/me/library/albums`);\r\n\r\n    const addTrack = (track) => {\r\n        if (queue.length === 0) {\r\n            dispatch(setPlaying(false));\r\n            dispatch(setPlayingTrack(track));\r\n        }\r\n        if (queue.filter((x) => x.id === track.id).length === 0)\r\n            dispatch(addQueue(track));\r\n    };\r\n\r\n    const playAlbum = () => {\r\n        trackData.items.forEach((track, i) => {\r\n            if (i === 0) {\r\n                addTrack(track);\r\n                if (playingTrack && track.id !== playingTrack.id)\r\n                    dispatch(setPlayingTrack(track));\r\n                dispatch(setPlaying(true));\r\n            } else addTrack(track);\r\n        });\r\n    };\r\n\r\n    const addAlbum = () => {\r\n        setLoading(true);\r\n        addAlbumToLibrary(id)\r\n            .then(() => {\r\n                setAdded(true);\r\n                alert.show(\"Album added\");\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"Something went wrong when adding album\");\r\n            });\r\n    };\r\n\r\n    const removeAlbum = () => {\r\n        setLoading(true);\r\n        removeAlbumFromLibrary(id)\r\n            .then(() => {\r\n                setAdded(false);\r\n                alert.show(\"Album removed\");\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"Something went wrong when removing artist\");\r\n            });\r\n    };\r\n\r\n    const albumInLibrary = () => {\r\n        if (albumLoading || libraryAlbumLoading) return true;\r\n        let id = libraryAlbum.items.map((a) => a.id);\r\n        if (added !== null) return added;\r\n        else return id.includes(albumData.id);\r\n    };\r\n\r\n    return !albumErr && !trackErr && !libraryAlbumError ? (\r\n        <div className=\"page-content\">\r\n            <div className=\"flex flex-col gap-6\">\r\n                <div className=\"flex items-center gap-4 sm:gap-8 flex-col sm:flex-row\">\r\n                    {albumLoading && trackLoading ? (\r\n                        <Skeleton\r\n                            className=\"border border-background dark:border-backgroundDark\" \r\n                            style={{ width: \"12rem\", height: \"12rem\" }}\r\n                        />\r\n                    ) : (\r\n                        (imgLoading && (\r\n                            <Skeleton style={{ height: \"12rem\" }} />\r\n                        )) || (\r\n                            <img\r\n                                src={albumData && albumData.image}\r\n                                alt={albumData && albumData.name}\r\n                                className=\"w-full h-full sm:w-48 sm:h-48 border border-background dark:border-backgroundDark\"\r\n                                onLoad={() => setImgLoading(false)}\r\n                            />\r\n                        )\r\n                    )}\r\n                    <div className=\"w-full sm:w-full flex flex-col gap-4\">\r\n                        <div>\r\n                            <h1 className=\"title\">\r\n                                {albumData && albumData.name}\r\n                            </h1>\r\n                            {albumData && (\r\n                                <ArtistList artists={albumData.artists} />\r\n                            )}\r\n                            <p className=\"w-full mt-2\">\r\n                                Tracks: {!trackLoading && trackData.count}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex justify-start gap-2\">\r\n                            <button\r\n                                className=\"btn-primary w-1/2 md:w-48\"\r\n                                onClick={playAlbum}\r\n                            >\r\n                                Play\r\n                            </button>\r\n                            {!libraryAlbumLoading &&\r\n                                (albumInLibrary() ? (\r\n                                    <button\r\n                                        className=\"btn-secondary w-1/2 md:w-48\"\r\n                                        onClick={removeAlbum}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        Remove from Library\r\n                                    </button>\r\n                                ) : (\r\n                                    <button\r\n                                        className=\"btn-primary-border w-1/2 md:w-48\"\r\n                                        onClick={addAlbum}\r\n                                        disabled={loading}\r\n                                    >\r\n                                        Add to Library\r\n                                    </button>\r\n                                ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <h2 className=\"title2\">Tracks</h2>\r\n                    <TrackHeader />\r\n                    {trackLoading\r\n                        ? [1, 2, 3, 4, 5].map((_, i) => (\r\n                              <TrackSkeleton key={i} id={i} />\r\n                          ))\r\n                        : trackData.items.map((track, i) => (\r\n                              <TrackItem\r\n                                  key={i}\r\n                                  t={track}\r\n                                  i={track.track_number}\r\n                              />\r\n                          ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <ErrorPage />\r\n    );\r\n};\r\n\r\nexport default AlbumPage;\r\n","import { Link } from \"react-router-dom\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { useState } from \"react\";\r\nimport ArtistList from \"./ArtistList\";\r\n\r\nconst AlbumCard = ({ album }) => {\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // TODO: Context menu\r\n    return (\r\n        <div className=\"card-container\">\r\n            <Link className=\"card\" to={`/album/${album.id}`} title={album.name}>\r\n                <img\r\n                    className={loading ? \"hidden\" : \"\"}\r\n                    src={album.image}\r\n                    alt={album.name}\r\n                    onLoad={() => setLoading(false)}\r\n                />\r\n                {loading && <Skeleton height={240} />}\r\n                <h2 className=\"title2 mt-2\">{album.name}</h2>\r\n            </Link>\r\n            <ArtistList artists={album.artists} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AlbumCard;\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { useAlert } from \"react-alert\";\r\nimport AlbumCard from \"../components/AlbumCard\";\r\nimport TrackSkeleton from \"../components/Tracks/TrackSkeleton\";\r\nimport TrackItem from \"../components/Tracks/TrackItem\";\r\nimport TrackHeader from \"../components/Tracks/TrackHeader\";\r\nimport { setPlaying, setPlayingTrack } from \"../store/player/playerAction\";\r\nimport { addQueue } from \"../store/queue/queueAction\";\r\nimport useAxios from \"../api/useAxios\";\r\nimport { addArtistToLibrary, removeArtistFromLibrary } from \"../api/userApi\";\r\nimport ErrorPage from \"./ErrorPage\";\r\n\r\nconst ArtistPage = () => {\r\n    const { id } = useParams();\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n    const [added, setAdded] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const { playingTrack } = useSelector((state) => state.playerReducer);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n    const {\r\n        data: artistData,\r\n        isLoading: artistLoading,\r\n        error: artistError,\r\n    } = useAxios(`/artists/${id}/`);\r\n    const {\r\n        data: albumData,\r\n        isLoading: albumLoading,\r\n        error: albumError,\r\n    } = useAxios(`/artists/${id}/albums`);\r\n    const {\r\n        data: trackData,\r\n        isLoading: tracksLoading,\r\n        error: tracksError,\r\n    } = useAxios(`/artists/${id}/tracks`);\r\n    const {\r\n        data: libraryArtist,\r\n        isLoading: libraryArtistLoading,\r\n        error: libraryArtistError,\r\n    } = useAxios(`/me/library/artists`);\r\n\r\n    const addTrack = (track) => {\r\n        if (queue.length === 0) {\r\n            dispatch(setPlaying(false));\r\n            dispatch(setPlayingTrack(track));\r\n        }\r\n        if (queue.filter((x) => x.id === track.id).length === 0)\r\n            dispatch(addQueue(track));\r\n    };\r\n\r\n    const playArtist = () => {\r\n        trackData.items.forEach((track, i) => {\r\n            if (i === 0) {\r\n                addTrack(track);\r\n                if (playingTrack && track.id !== playingTrack.id)\r\n                    dispatch(setPlayingTrack(track));\r\n                dispatch(setPlaying(true));\r\n            } else addTrack(track);\r\n        });\r\n    };\r\n\r\n    const addArtist = () => {\r\n        setLoading(true);\r\n        addArtistToLibrary(id)\r\n            .then(() => {\r\n                setAdded(true);\r\n                alert.show(\"Artist added\");\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"Something went wrong when adding artist\");\r\n            });\r\n    };\r\n\r\n    const removeArtist = () => {\r\n        setLoading(true);\r\n        removeArtistFromLibrary(id)\r\n            .then(() => {\r\n                setAdded(false);\r\n                alert.show(\"Artist removed\");\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error(\"Something went wrong when removing artist\");\r\n            });\r\n    };\r\n\r\n    const artistInLibrary = () => {\r\n        if (artistLoading || libraryArtistLoading) return true;\r\n        let id = libraryArtist.items.map((a) => a.id);\r\n        if (added !== null) return added;\r\n        else return id.includes(artistData.id);\r\n    };\r\n\r\n    return !artistError &&\r\n        !albumError &&\r\n        !tracksError &&\r\n        !libraryArtistError ? (\r\n        <div className=\"page-content\">\r\n            <div className=\"flex flex-col gap-8\">\r\n                <div className=\"flex items-center gap-8\">\r\n                    {artistLoading ? (\r\n                        <>\r\n                            <Skeleton\r\n                                borderRadius={100}\r\n                                width={\"12rem\"}\r\n                                height={\"12rem\"}\r\n                            />\r\n                            <Skeleton width={\"10rem\"} className=\"title\" />\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <img\r\n                                src={artistData && artistData.image}\r\n                                alt={artistData && artistData.name}\r\n                                className={`w-48 h-48 border border-primary-200 dark:border-primaryDark-200 rounded-full`}\r\n                            />\r\n                            <div className=\"w-full\">\r\n                                <h1 className=\"title\">\r\n                                    {artistData && artistData.name}\r\n                                </h1>\r\n                                <div className=\"flex justify-start gap-2\">\r\n                                    <button\r\n                                        className=\"btn-primary w-1/2 md:w-48\"\r\n                                        onClick={playArtist}\r\n                                    >\r\n                                        Play\r\n                                    </button>\r\n                                    {!libraryArtistLoading &&\r\n                                        (artistInLibrary() ? (\r\n                                            <button\r\n                                                className=\"btn-secondary w-1/2 md:w-48\"\r\n                                                onClick={removeArtist}\r\n                                                disabled={loading}\r\n                                            >\r\n                                                Remove from Library\r\n                                            </button>\r\n                                        ) : (\r\n                                            <button\r\n                                                className=\"btn-primary-border w-1/2 md:w-48\"\r\n                                                onClick={addArtist}\r\n                                                disabled={loading}\r\n                                            >\r\n                                                Add to Library\r\n                                            </button>\r\n                                        ))}\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"title2\">Tracks</h2>\r\n                    <TrackHeader album={true} />\r\n                    {tracksLoading\r\n                        ? [1, 2, 3, 4, 5].map((_, i) => (\r\n                              <TrackSkeleton key={i} id={i} />\r\n                          ))\r\n                        : trackData.items.map((track, i) => (\r\n                              <TrackItem\r\n                                  key={i}\r\n                                  t={track}\r\n                                  i={i + 1}\r\n                                  album={true}\r\n                              />\r\n                          ))}\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"title2\">Albums</h2>\r\n                    <div className=\"card-list\">\r\n                        {albumLoading\r\n                            ? [1, 2, 3].map((_, i) => (\r\n                                  <div\r\n                                      key={`album_skeleton_${i}`}\r\n                                      className=\"card\"\r\n                                  >\r\n                                      <div className=\"card-link\">\r\n                                          <Skeleton height={240} width={240} />\r\n                                          <Skeleton className=\"title2 mt-4\" />\r\n                                      </div>\r\n                                      <div className=\"artist-list h-6\">\r\n                                          <Skeleton className=\"linkItem\" />\r\n                                      </div>\r\n                                  </div>\r\n                              ))\r\n                            : albumData.items.map((album) => {\r\n                                  return (\r\n                                      <AlbumCard album={album} key={album.id} />\r\n                                  );\r\n                              })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <ErrorPage />\r\n    );\r\n};\r\n\r\nexport default ArtistPage;\r\n","import { Link } from \"react-router-dom\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { useState } from \"react\";\r\n\r\nconst ArtistCard = ({ artist }) => {\r\n    const [loaded, setLoaded] = useState(false);\r\n\r\n    // TODO: Context menu\r\n    return (\r\n        <Link\r\n            to={`/artist/${artist.id}`}\r\n            className=\"card-container border border-primary-100 dark:border-primaryDark-100 hover:shadow-md\"\r\n            title={artist.name}\r\n        >\r\n            <div className=\"card\">\r\n                <img\r\n                    className={!loaded ? \"hidden\" : \"\"}\r\n                    src={artist.image}\r\n                    alt={artist.name}\r\n                    onLoad={() => setLoaded(true)}\r\n                />\r\n                {!loaded && <Skeleton height={240} />}\r\n            </div>\r\n            <div className=\"m-2\">\r\n                <h2 className=\"title2 mt-3\">{artist.name}</h2>\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default ArtistCard;\r\n","import Skeleton from \"react-loading-skeleton\";\r\nimport AlbumCard from \"../components/AlbumCard\";\r\nimport ArtistCard from \"../components/ArtistCard\";\r\nimport useAxios from \"../api/useAxios\";\r\nimport ErrorPage from \"./ErrorPage\";\r\n\r\nconst HomePage = () => {\r\n    const {\r\n        data: featuredArtist,\r\n        isLoading: artistLoading,\r\n        error: artistError,\r\n    } = useAxios(\"/featured-artists\");\r\n    const {\r\n        data: newRelease,\r\n        isLoading: albumLoading,\r\n        error: albumError,\r\n    } = useAxios(\"/new-release\");\r\n\r\n    const getAlbumSkeleton = (key) => {\r\n        return (\r\n            <div key={`album_skeleton_${key}`}>\r\n                <div>\r\n                    <Skeleton height={240} width={240} />\r\n                    <Skeleton className=\"title2 mt-4\" />\r\n                </div>\r\n                <Skeleton />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getArtistSkeleton = (key) => {\r\n        return (\r\n            <div key={`artist_skeleton_${key}`}>\r\n                <div>\r\n                    <Skeleton height={240} width={240} />\r\n                </div>\r\n                <Skeleton className=\"title2 mt-3 m-2\" />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return !artistError && !albumError ? (\r\n        <div className=\"page-content\">\r\n            <>\r\n                <div>\r\n                    <h2 className=\"title\">New Release</h2>\r\n                    <div className=\"card-list\">\r\n                        {albumLoading\r\n                            ? [1, 2, 3, 4, 5].map((_, i) => getAlbumSkeleton(i))\r\n                            : newRelease\r\n                                  .reverse()\r\n                                  .map((a) => (\r\n                                      <AlbumCard\r\n                                          album={a}\r\n                                          key={`card_${a.id}`}\r\n                                      />\r\n                                  ))}\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"title\">Featured Artists</h2>\r\n                    <div className=\"card-list\">\r\n                        {artistLoading\r\n                            ? [1, 2, 3].map((_, i) => getArtistSkeleton(i))\r\n                            : featuredArtist.map((a) => (\r\n                                  <ArtistCard\r\n                                      artist={a}\r\n                                      key={`card_${a.id}`}\r\n                                  />\r\n                              ))}\r\n                    </div>\r\n                </div>\r\n            </>\r\n        </div>\r\n    ) : (\r\n        <ErrorPage />\r\n    );\r\n};\r\n\r\nexport default HomePage;\r\n","export default \"data:image/png;base64,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\"","import { Link } from \"react-router-dom\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport defaultImg from \"../images/defaultImg.png\";\r\nimport useAxios from \"../api/useAxios\";\r\nimport ErrorPage from \"./ErrorPage\";\r\n\r\nconst LibraryPage = () => {\r\n    const {\r\n        data: playlistData,\r\n        isLoading: playlistLoading,\r\n        error: playlistError,\r\n    } = useAxios(`/me/library/playlists`);\r\n\r\n    const {\r\n        data: albumData,\r\n        isLoading: albumLoading,\r\n        error: albumError,\r\n    } = useAxios(`/me/library/albums`);\r\n\r\n    const {\r\n        data: artistData,\r\n        isLoading: artistLoading,\r\n        error: artistError,\r\n    } = useAxios(`/me/library/artists`);\r\n\r\n    return !playlistError && !albumError && !artistError ? (\r\n        <div className=\"page-content\">\r\n            <h1 className=\"title\">Library</h1>\r\n            {!playlistLoading &&\r\n                playlistData.total === 0 &&\r\n                !albumLoading &&\r\n                albumData.total === 0 &&\r\n                !artistLoading &&\r\n                artistData.total === 0 && (\r\n                    <>\r\n                        <div>\r\n                            You have not added anything into your library.\r\n                        </div>\r\n                        <Link to=\"/\" className=\"btn btn-primary w-max\">\r\n                            Go to Homepage\r\n                        </Link>\r\n                    </>\r\n                )}\r\n            <div className=\"library-items\">\r\n                {!playlistLoading && playlistData.total !== 0 && (\r\n                    <h2 className=\"title2\">Playlists</h2>\r\n                )}\r\n                {playlistLoading ? (\r\n                    <div className=\"library-item\">\r\n                        <Skeleton height={\"8rem\"} className=\"m-0.5 p-2\" />\r\n                        <Skeleton />\r\n                    </div>\r\n                ) : (\r\n                    playlistData.items.map((playlist) => {\r\n                        return (\r\n                            <Link\r\n                                to={`/playlist/${playlist.id}`}\r\n                                key={playlist.id}\r\n                                className=\"library-item hover:bg-primary-50 dark:hover:bg-primaryDark-50 object-scale-down\"\r\n                            >\r\n                                <div className=\"library-image\">\r\n                                    <img\r\n                                        src={playlist.image}\r\n                                        alt={playlist.name}\r\n                                        onError={(e) =>\r\n                                            (e.target.src = defaultImg)\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                                <div className=\"library-name\">\r\n                                    {playlist.name}\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n            <div className=\"library-items\">\r\n                {!albumLoading && albumData.total !== 0 && (\r\n                    <h2 className=\"title2\">Albums</h2>\r\n                )}\r\n                {albumLoading ? (\r\n                    <div className=\"library-item\">\r\n                        <Skeleton height={\"8rem\"} className=\"m-0.5 p-2\" />\r\n                        <Skeleton />\r\n                    </div>\r\n                ) : (\r\n                    albumData.items.map((album) => {\r\n                        return (\r\n                            <Link\r\n                                to={`/album/${album.id}`}\r\n                                key={album.id}\r\n                                className=\"library-item hover:bg-primary-50 dark:hover:bg-primaryDark-50 object-scale-down\"\r\n                            >\r\n                                <div className=\"library-image\">\r\n                                    <img src={album.image} alt={album.name} />\r\n                                </div>\r\n                                <div className=\"library-name\">{album.name}</div>\r\n                            </Link>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n            <div className=\"library-items\">\r\n                {!artistLoading && artistData.total !== 0 && (\r\n                    <h2 className=\"title2\">Artists</h2>\r\n                )}\r\n                {artistLoading ? (\r\n                    <div className=\"library-item\">\r\n                        <Skeleton height={\"8rem\"} className=\"m-0.5 p-2\" />\r\n                        <Skeleton />\r\n                    </div>\r\n                ) : (\r\n                    artistData.items.map((artist) => {\r\n                        return (\r\n                            <Link\r\n                                to={`/artist/${artist.id}`}\r\n                                key={artist.id}\r\n                                className=\"library-item hover:bg-primary-50 dark:hover:bg-primaryDark-50 object-scale-down\"\r\n                            >\r\n                                <div className=\"library-image\">\r\n                                    <img src={artist.image} alt={artist.name} />\r\n                                </div>\r\n                                <div className=\"library-name\">\r\n                                    {artist.name}\r\n                                </div>\r\n                            </Link>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <ErrorPage />\r\n    );\r\n};\r\n\r\nexport default LibraryPage;\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport Skeleton from 'react-loading-skeleton';\r\nimport Icon from '@mdi/react';\r\nimport { mdiPencil, mdiTrashCan } from '@mdi/js';\r\nimport defaultImg from '../images/defaultImg.png';\r\nimport useAxios from '../api/useAxios';\r\nimport {\r\n    addPlaylistToLibrary,\r\n    deletePlaylist,\r\n    removePlaylistFromLibrary,\r\n    removePlaylistTrack,\r\n    updatePlaylist,\r\n} from '../api/userApi';\r\nimport TrackSkeleton from '../components/Tracks/TrackSkeleton';\r\nimport TrackItem from '../components/Tracks/TrackItem';\r\nimport TrackHeader from '../components/Tracks/TrackHeader';\r\nimport Modal from '../components/Modal';\r\nimport { setPlaying, setPlayingTrack } from '../store/player/playerAction';\r\nimport { addQueue } from '../store/queue/queueAction';\r\nimport ErrorPage from './ErrorPage';\r\nimport { useAlert } from 'react-alert';\r\nimport { MenuItem } from 'react-contextmenu';\r\n\r\nconst PlaylistPage = () => {\r\n    const { id } = useParams();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const alert = useAlert();\r\n    const [added, setAdded] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [editModal, setEditModal] = useState(false);\r\n    const [deleteModal, setDeleteModal] = useState(false);\r\n    const [name, setName] = useState('');\r\n    const { playingTrack } = useSelector((state) => state.playerReducer);\r\n    const queue = useSelector((state) => state.queueReducer);\r\n    const { uid } = useSelector((state) => state.userReducer);\r\n    const {\r\n        data: playlistData,\r\n        isLoading: playlistLoading,\r\n        error: playlistError,\r\n    } = useAxios(`/playlists/${id}/`);\r\n    const {\r\n        data: trackData,\r\n        isLoading: trackLoading,\r\n        error: trackError,\r\n        fetchData,\r\n    } = useAxios(`/playlists/${id}/tracks`);\r\n    const {\r\n        data: libraryPlaylist,\r\n        isLoading: libraryPlaylistLoading,\r\n        error: libraryPlaylistError,\r\n    } = useAxios(`/me/library/playlists`);\r\n\r\n    const addTrack = (track) => {\r\n        if (queue.length === 0) {\r\n            dispatch(setPlaying(false));\r\n            dispatch(setPlayingTrack(track));\r\n        }\r\n        if (queue.filter((x) => x.id === track.id).length === 0)\r\n            dispatch(addQueue(track));\r\n    };\r\n\r\n    const playPlaylist = () => {\r\n        trackData.items.forEach((track, i) => {\r\n            if (i === 0) {\r\n                addTrack(track);\r\n                if (playingTrack && track.id !== playingTrack.id)\r\n                    dispatch(setPlayingTrack(track));\r\n                dispatch(setPlaying(true));\r\n            } else addTrack(track);\r\n        });\r\n    };\r\n\r\n    const editPlaylist = () => {\r\n        updatePlaylist(id, name).then(() => {\r\n            setEditModal(false);\r\n            alert.show('Playlist name updated');\r\n            history.go(0);\r\n        });\r\n    };\r\n\r\n    const removePlaylist = () => {\r\n        deletePlaylist(id).then(() => {\r\n            setDeleteModal(false);\r\n            alert.show('Playlist removed');\r\n            history.goBack();\r\n        });\r\n    };\r\n\r\n    const removeTrackFromPlaylist = (track) => {\r\n        removePlaylistTrack(id, track).then(() => {\r\n            fetchData();\r\n            alert.show('Removed from playlist');\r\n        });\r\n    };\r\n\r\n    const addLibraryPlaylist = () => {\r\n        setLoading(true);\r\n        addPlaylistToLibrary(id)\r\n            .then(() => {\r\n                setAdded(true);\r\n                alert.show('Playlist added');\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error('Something went wrong when adding album');\r\n            });\r\n    };\r\n\r\n    const removeLibraryPlaylist = () => {\r\n        setLoading(true);\r\n        removePlaylistFromLibrary(id)\r\n            .then(() => {\r\n                setAdded(false);\r\n                alert.show('Playlist removed');\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setLoading(false);\r\n                alert.error('Something went wrong when removing album');\r\n            });\r\n    };\r\n\r\n    const formatDate = (date) => {\r\n        let d = new Date(date);\r\n        const currentMonth = d.getMonth();\r\n        const monthString =\r\n            currentMonth >= 10 ? currentMonth + 1 : `0${currentMonth + 1}`;\r\n        const currentDate = d.getDate();\r\n        // const dateString = currentDate >= 10 ? currentDate : `0${currentDate}`;\r\n        return `${d.getFullYear()}-${monthString}-${currentDate}`;\r\n    };\r\n\r\n    const playlistInLibrary = () => {\r\n        if (playlistLoading || libraryPlaylistLoading) return true;\r\n        let id = libraryPlaylist.items.map((a) => a.id);\r\n        if (added !== null) return added;\r\n        else return id.includes(playlistData.id);\r\n    };\r\n\r\n    return !playlistError && !trackError && !libraryPlaylistError ? (\r\n        <div className='page-content'>\r\n            <Modal\r\n                header={'Edit playlist'}\r\n                open={editModal}\r\n                onConfirm={editPlaylist}\r\n                onCancel={() => setEditModal(false)}\r\n            >\r\n                {!playlistLoading && (\r\n                    <div className='flex flex-col gap-1'>\r\n                        <label htmlFor='textInput'>\r\n                            <b>Name</b>\r\n                        </label>\r\n                        <input\r\n                            id='textInput'\r\n                            type='text'\r\n                            placeholder='Playlist name'\r\n                            defaultValue={playlistData.name}\r\n                            autoFocus={true}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                            onKeyDown={(e) => {\r\n                                if (e.key === 'Enter') editPlaylist();\r\n                                else if (e.key === 'Escape')\r\n                                    setEditModal(false);\r\n                            }}\r\n                            className='border-b border-primary-200 dark:border-primaryDark-200 px-2 py-1'\r\n                        />\r\n                    </div>\r\n                )}\r\n            </Modal>\r\n            <Modal\r\n                header={'Delete playlist'}\r\n                open={deleteModal}\r\n                onConfirm={removePlaylist}\r\n                onCancel={() => setDeleteModal(false)}\r\n            >\r\n                {!playlistLoading && (\r\n                    <>\r\n                        Are you sure that you want to delete{' '}\r\n                        <b>{playlistData.name}</b>\r\n                    </>\r\n                )}\r\n            </Modal>\r\n            <div className='grid sm:grid-cols-3 md:grid-cols-4 gap-4'>\r\n                {playlistLoading ? (\r\n                    <div className='w-full'>\r\n                        <Skeleton\r\n                            className='m-2 ml-0'\r\n                            style={{ aspectRatio: '1' }}\r\n                        />\r\n                        <Skeleton className='title' />\r\n                        <Skeleton count={3} />\r\n                        <button className='btn-primary w-full mt-2'>\r\n                            Play\r\n                        </button>\r\n                        <button className='btn-primary-border w-full mt-2 '>\r\n                            Add to library\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <div className='w-full'>\r\n                        <div className='border border-primary-200 dark:border-primaryDark-200 m-2 ml-0 text-center'>\r\n                            <img\r\n                                src={playlistData.image}\r\n                                alt='Playlist Thumbnail'\r\n                                className='m-auto'\r\n                                onError={(e) => {\r\n                                    e.target.src = defaultImg;\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <h1 className='title'>{playlistData.name}</h1>\r\n                        <div>\r\n                            <b>{playlistData.owner.displayName}</b>\r\n                            <p>\r\n                                <i>Last Update: </i>\r\n                                <br className='hidden sm:block' />\r\n                                {formatDate(playlistData.updatedAt)}\r\n                            </p>\r\n                        </div>\r\n                        <div>Tracks: {playlistData.tracks.total}</div>\r\n                        <div className='flex'>\r\n                            <div\r\n                                className='rounded-full hover:bg-primary-200 dark:hover:bg-primaryDark-200 p-1 cursor-pointer'\r\n                                onClick={() => setEditModal(true)}\r\n                            >\r\n                                <Icon\r\n                                    path={mdiPencil}\r\n                                    className='icon-small fill-current text-primary-300 dark:text-primaryDark-300'\r\n                                    title='Edit playlist'\r\n                                />\r\n                            </div>\r\n                            <div\r\n                                className='rounded-full hover:bg-primary-200 dark:hover:bg-primaryDark-200 p-1 cursor-pointer'\r\n                                onClick={() => setDeleteModal(true)}\r\n                            >\r\n                                <Icon\r\n                                    path={mdiTrashCan}\r\n                                    className='icon-small fill-current text-primary-300 dark:text-primaryDark-300'\r\n                                    title='Delete playlist'\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            className='btn-primary w-full mt-2'\r\n                            onClick={playPlaylist}\r\n                        >\r\n                            Play\r\n                        </button>\r\n                        {!libraryPlaylistLoading &&\r\n                            playlistData.owner.id !== uid &&\r\n                            (playlistInLibrary() ? (\r\n                                <button\r\n                                    className='btn-secondary w-full mt-2'\r\n                                    onClick={removeLibraryPlaylist}\r\n                                    disabled={loading}\r\n                                >\r\n                                    Remove from Library\r\n                                </button>\r\n                            ) : (\r\n                                <button\r\n                                    className='btn-primary-border w-full mt-2'\r\n                                    onClick={addLibraryPlaylist}\r\n                                    disabled={loading}\r\n                                >\r\n                                    Add to Library\r\n                                </button>\r\n                            ))}\r\n                    </div>\r\n                )}\r\n                {trackLoading ? (\r\n                    <div className='sm:col-span-2 md:col-span-3'>\r\n                        <h2 className='title2'>Tracks</h2>\r\n                        <TrackHeader />\r\n                        {[1, 2, 3, 4, 5].map((_, i) => (\r\n                            <TrackSkeleton key={i} id={i} />\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className='sm:col-span-2 md:col-span-3'>\r\n                        <h2 className='title2'>Tracks</h2>\r\n                        <TrackHeader />\r\n                        {trackData.total === 0 && (\r\n                            <div className='flex justify-center mt-4'>\r\n                                <p>This playlist is currently empty</p>\r\n                            </div>\r\n                        )}\r\n                        {trackData.items.map((track, i) => (\r\n                            <TrackItem key={i} t={track} i={i + 1}>\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        removeTrackFromPlaylist(track.id)\r\n                                    }\r\n                                >\r\n                                    Remove from this playlist\r\n                                </MenuItem>\r\n                            </TrackItem>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <ErrorPage />\r\n    );\r\n};\r\n\r\nexport default PlaylistPage;\r\n","import { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst NotFoundPage = () => {\r\n    return (\r\n        <div className=\"w-screen h-screen flex flex-col items-center justify-center gap-4 text-center\">\r\n            <h2 className=\"text-4xl font-bold my-2\">Oops!</h2>\r\n            <p className=\"font-bold uppercase\">404 - Page not Found</p>\r\n            <p>\r\n                The page you are looking for might have been removed <br />\r\n                or is temporary unavailable.\r\n            </p>\r\n            <Link to=\"/\" className=\"btn btn-primary\">\r\n                Back to homepage\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFoundPage;\r\n","import { useRef, useState } from 'react';\r\nimport Icon from '@mdi/react';\r\nimport { mdiArrowLeft, mdiClose } from '@mdi/js';\r\nimport axios from 'axios';\r\nimport ArtistCard from '../components/ArtistCard';\r\nimport AlbumCard from '../components/AlbumCard';\r\nimport TrackItem from '../components/Tracks/TrackItem';\r\nimport TrackHeader from '../components/Tracks/TrackHeader';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SearchPage = () => {\r\n    class QueueHandler {\r\n        constructor() {\r\n            this.requesting = false;\r\n            this.stack = [];\r\n        }\r\n\r\n        add(q) {\r\n            if (this.stack.length < 2) {\r\n                return new Promise((resolve, reject) => {\r\n                    this.stack.push(q);\r\n                    this.makeQuery();\r\n                });\r\n            }\r\n            return new Promise((resolve, reject) => {\r\n                this.stack[1] = q;\r\n                this.makeQuery();\r\n            });\r\n        }\r\n\r\n        makeQuery() {\r\n            if (!this.stack.length || this.requesting) {\r\n                return null;\r\n            }\r\n\r\n            this.requesting = true;\r\n            axios\r\n                .post(`${process.env.REACT_APP_API_URL}/search`, {\r\n                    q: this.stack[0],\r\n                })\r\n                .then((res) => {\r\n                    setData(res.data);\r\n                    setIsLoading(false);\r\n                    this.requesting = false;\r\n                    this.stack.splice(0, 1);\r\n                    this.makeQuery();\r\n                });\r\n        }\r\n    }\r\n    const [data, setData] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const ref = useRef();\r\n    let queue = new QueueHandler();\r\n\r\n    const search = (query) => {\r\n        if (query === '' || !query) {\r\n            return;\r\n        }\r\n        setIsLoading(true);\r\n        queue.add(query);\r\n    };\r\n\r\n    const clearInput = () => {\r\n        ref.current.focus();\r\n        ref.current.value = '';\r\n    };\r\n\r\n    return (\r\n        <div className='page-content'>\r\n            <h1 className='title'>Search</h1>\r\n            <div>\r\n                <div className='border flex px-2 py-1 gap-2 items-center'>\r\n                    <Link to='/' className='btn-icon'>\r\n                        <Icon path={mdiArrowLeft} className='icon-small' />\r\n                    </Link>\r\n                    <input\r\n                        type='text'\r\n                        className='w-full py-0.5 px-1 outline-none'\r\n                        ref={ref}\r\n                        autoFocus={true}\r\n                        onChange={(e) => search(e.target.value)}\r\n                        onKeyDown={(e) => {\r\n                            if (e.key === 'Enter') search();\r\n                        }}\r\n                    />\r\n                    <div className='btn-icon' onClick={clearInput}>\r\n                        <Icon path={mdiClose} className='icon-small' />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='flex flex-col gap-4'>\r\n                {isLoading && (\r\n                    <div className='flex h-full justify-center mt-8'>\r\n                        <div className='loader' />\r\n                    </div>\r\n                )}\r\n                {!isLoading &&\r\n                    data &&\r\n                    data.tracks.total === 0 &&\r\n                    data.artists.total === 0 &&\r\n                    data.albums.total === 0 && <div>No result found.</div>}\r\n                {!isLoading && data && data.tracks.total > 0 && (\r\n                    <div>\r\n                        <h2 className='title2'>Tracks</h2>\r\n                        <div>\r\n                            <TrackHeader album={true} />\r\n                            {data.tracks.items.map((t, i) => (\r\n                                <TrackItem\r\n                                    i={i + 1}\r\n                                    t={t}\r\n                                    album={true}\r\n                                    key={`search_track_${t.id}`}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {!isLoading && data && data.artists.total > 0 && (\r\n                    <div>\r\n                        <h2 className='title2'>Artists</h2>\r\n                        <div className='card-list'>\r\n                            {data.artists.items.map((a) => (\r\n                                <ArtistCard\r\n                                    artist={a}\r\n                                    key={`search_artist_${a.id}`}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {!isLoading && data && data.albums.total > 0 && (\r\n                    <div>\r\n                        <h2 className='title2'>Albums</h2>\r\n                        <div className='card-list'>\r\n                            {data.albums.items.map((a) => (\r\n                                <AlbumCard\r\n                                    album={a}\r\n                                    key={`search_album_${a.id}`}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchPage;\r\n","import {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport LoginLayout from \"./layout/LoginLayout\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport AppLayout from \"./layout/AppLayout\";\r\nimport AlbumPage from \"./pages/AlbumPage\";\r\nimport ArtistPage from \"./pages/ArtistPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport LibraryPage from \"./pages/LibraryPage\";\r\nimport PlaylistPage from \"./pages/PlaylistPage\";\r\nimport NotFoundPage from \"./pages/NotFoundPage\";\r\nimport SearchPage from \"./pages/SearchPage\";\r\n\r\nconst App = () => {\r\n    const setLoggedIn = () => {};\r\n    const { token } = useSelector((state) => state.userReducer);\r\n\r\n    return (\r\n        <Router basename={process.env.REACT_APP_PUBLIC_URL}>\r\n            {!token ? (\r\n                <LoginLayout>\r\n                    <Switch>\r\n                        <Route path=\"/login\">\r\n                            <LoginPage />\r\n                        </Route>\r\n                        <Route path=\"/signUp\">\r\n                            <SignUpPage />\r\n                        </Route>\r\n                        <Route path=\"/\">\r\n                            <Redirect to=\"/login\" />\r\n                        </Route>\r\n                    </Switch>\r\n                </LoginLayout>\r\n            ) : (\r\n                <AppLayout setLoggedIn={setLoggedIn}>\r\n                    <Switch>\r\n                        <Route path=\"/artist/:id\" component={ArtistPage} />\r\n                        <Route path=\"/album/:id\" component={AlbumPage} />\r\n                        <Route path=\"/playlist/:id\" component={PlaylistPage} />\r\n                        <Route path=\"/library\" component={LibraryPage} />\r\n                        <Route path=\"/search\" component={SearchPage} />\r\n                        <Route exact path=\"/\" component={HomePage} />\r\n                        <Route path=\"*\" component={NotFoundPage} />\r\n                    </Switch>\r\n                </AppLayout>\r\n            )}\r\n        </Router>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","const initState = [];\r\n\r\nconst queueReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_QUEUE\":\r\n            return action.queue;\r\n        case \"ADD_QUEUE\":\r\n            return [...state, action.item];\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default queueReducer;\r\n","const getVolume = () => {\r\n    return localStorage.getItem(\"volume\");\r\n};\r\n\r\nconst getLoop = () => {\r\n    return localStorage.getItem(\"loop\");\r\n};\r\n\r\nconst initState = {\r\n    playing: false,\r\n    loop: getLoop() !== null ? getLoop() : false,\r\n    volume: getVolume() !== null ? getVolume() : 0.2,\r\n    playingTrack: {\r\n        _id: \"\",\r\n        name: \"\",\r\n        icon: \"\",\r\n        album: {\r\n            _id: \"\",\r\n            name: \"\",\r\n            icon: \"\",\r\n            track: {\r\n                _id: \"\",\r\n                title: \"\",\r\n                duration: NaN,\r\n                url: \"\",\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nconst queueReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_PLAYING\":\r\n            return { ...state, playing: action.playing };\r\n        case \"SET_LOOP\":\r\n            localStorage.setItem(\"loop\", action.loop);\r\n            return { ...state, loop: action.loop };\r\n        case \"SET_PLAYING_SONG\":\r\n            return { ...state, playingTrack: action.track };\r\n        case \"SET_VOLUME\":\r\n            localStorage.setItem(\"volume\", action.volume);\r\n            return { ...state, volume: action.volume };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default queueReducer;\r\n","import axios from \"axios\";\r\n\r\nconst getToken = () => {\r\n    let token = localStorage.getItem(\"t\");\r\n    if (token !== null) axios.defaults.headers.common[\"Authorization\"] = token;\r\n    return token;\r\n};\r\n\r\nconst getUser = () => {\r\n    let u = localStorage.getItem(\"u\");\r\n    return u ? JSON.parse(u) : { displayName: \"\", uid: \"\" };\r\n};\r\n\r\nconst initState = {\r\n    ...getUser(),\r\n    token: getToken() !== null ? getToken() : null,\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case \"SET_TOKEN\":\r\n            localStorage.setItem(\"t\", action.token);\r\n            axios.defaults.headers.common[\"Authorization\"] = action.token;\r\n            return { ...state, token: action.token };\r\n        case \"LOGOUT\":\r\n            localStorage.removeItem(\"t\");\r\n            localStorage.removeItem(\"u\");\r\n            return { ...state, token: null, displayName: \"\", uid: \"\" };\r\n        case \"SET_USER\":\r\n            let user = { displayName: action.displayName, uid: action.uid };\r\n            localStorage.setItem(\"u\", JSON.stringify(user));\r\n            return {\r\n                ...state,\r\n                ...user,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport queueReducer from \"./queue/queueReducer\";\r\nimport playerReducer from \"./player/playerReducer\";\r\nimport userReducer from \"./user/userReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    playerReducer,\r\n    queueReducer,\r\n    userReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {\r\n    mdiCheckCircle,\r\n    mdiCloseCircle,\r\n    mdiInformationOutline,\r\n    mdiClose,\r\n} from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\n\r\nconst Alert = ({ message, options, close }) => {\r\n    return (\r\n        <div className=\"flex items-center gap-1 bg-background dark:bg-backgroundDark border border-primary-300 dark:border-primaryDark-300 p-2 z-50 pointer-events-auto\">\r\n            {options.type === \"info\" && (\r\n                <Icon\r\n                    path={mdiInformationOutline}\r\n                    className=\"icon-medium text-primary-200 dark:text-primaryDark-200\"\r\n                />\r\n            )}\r\n            {options.type === \"success\" && (\r\n                <Icon\r\n                    path={mdiCheckCircle}\r\n                    className=\"icon-medium text-primary-200 dark:text-primaryDark-200\"\r\n                />\r\n            )}\r\n            {options.type === \"error\" && (\r\n                <Icon\r\n                    path={mdiCloseCircle}\r\n                    className=\"icon-medium text-primary-200 dark:text-primaryDark-200\"\r\n                />\r\n            )}\r\n            <span style={{ flex: 2 }}>{message}</span>\r\n            <div\r\n                className=\"hover:bg-primary-100 dark:hover:bg-primaryDark-100 rounded-full btn-icon m-1\"\r\n                title=\"Dismiss\"\r\n                onClick={close}\r\n            >\r\n                <Icon\r\n                    path={mdiClose}\r\n                    className=\"icon-small text-primary-300 dark:text-primaryDark-300\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport { Provider as AlertProvider } from 'react-alert';\r\nimport './styles/styles.css';\r\nimport 'react-loading-skeleton/dist/skeleton.css';\r\nimport App from './App';\r\nimport rootReducer from './store/rootReducer';\r\nimport Alert from './components/Alert';\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nconst alertOption = {\r\n    position: 'top center',\r\n    transition: 'fade',\r\n    timeout: 2500,\r\n};\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <AlertProvider template={Alert} {...alertOption}>\r\n                <App />\r\n            </AlertProvider>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}